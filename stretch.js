!function r(i,n,s){function a(t,e){if(!n[t]){if(!i[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);throw(o=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",o}o=n[t]={exports:{}},i[t][0].call(o.exports,function(e){return a(i[t][1][e]||e)},o,o.exports,r,i,n,s)}return n[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.injectStylesheet=void 0,o.injectStylesheet=function(e,t){const o=document.createElement("style");return o.id=e,o.innerHTML=t,$(o).appendTo("head"),o}},{}],2:[function(e,t,o){"use strict";var r,i=this&&this.__classPrivateFieldGet||function(e,t,o,r){if("a"===o&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?r:"a"===o?r.call(e):r?r.value:t.get(e)};Object.defineProperty(o,"__esModule",{value:!0}),o.SwathePlugin=void 0;const n=e("./inject"),s=e("./storage"),a=e("./unstable");o.SwathePlugin=class{constructor(e,t,o){if(r.set(this,[]),/[^a-z0-9_]/.test(e))throw new Error("Invalid plugin id! It must be alphanumeric and lowercase.");this.id=e,t.about=(t.about?t.about+"<br/>":"")+"This plugin is part of the <a href='https://github.com/Unoqwy/swathe'>Swathe</a> plugin collection.",this.options=t,null!=o&&o.storage&&(this.storage=s.Storage.load("swathe_"+e))}register(e=!0,t){for(const o of["oninstall","onuninstall","onload","onunload"])void 0!==this.options[o]&&(this.options[o]=this.options[o].bind(this));e&&(this.registerEvent("onload",{before:()=>this.hook(t),after:this.postInit.bind(this)}),this.registerEvent("onunload",{after:this.unhook.bind(this)})),BBPlugin.register(this.id,this.options)}registerEvent(e,t){const o=this.options[e];this.options[e]=function(){null!=t&&t.before&&t.before(),void 0!==o&&o(),null!=t&&t.after&&t.after()}}hook(e){null!=e&&e.stylesheet&&n.injectStylesheet(`swathe-css-${this.id.replaceAll("_","-")}`,e.stylesheet)}postInit(){Object.values(Toolbars).forEach(e=>{e.postload&&e.update()})}unhook(){var e;null!==(e=this.styleElement)&&void 0!==e&&e.remove(),i(this,r,"f").forEach(a.unloadAction)}createAction(e,t){t=new Action(e,t);return i(this,r,"f").push(t),t}},r=new WeakMap},{"./inject":1,"./storage":3,"./unstable":4}],3:[function(e,t,o){"use strict";var r,i=this&&this.__classPrivateFieldSet||function(e,t,o,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,o):i?i.value=o:t.set(e,o),o},n=this&&this.__classPrivateFieldGet||function(e,t,o,r){if("a"===o&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?r:"a"===o?r.call(e):r?r.value:t.get(e)};Object.defineProperty(o,"__esModule",{value:!0}),o.Storage=void 0;o.Storage=class o{constructor(e,t){r.set(this,void 0),this.name=e,i(this,r,null!=t?t:{},"f")}get(e){return n(this,r,"f")[e]}set(e,t){void 0===t?this.remove(e):n(this,r,"f")[e]!==t&&(n(this,r,"f")[e]=t,this.persist())}remove(e){delete n(this,r,"f")[e]&&this.persist()}persist(){localStorage.setItem(this.name,JSON.stringify(n(this,r,"f")))}static load(e){var t=localStorage.getItem(e);return new o(e,void 0!==t?JSON.parse(t):{})}},r=new WeakMap},{}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.unloadAction=void 0;const n=e("./utils");o.unloadAction=function(t){delete BarItems[t.id];for(const i of t.toolbars){let e=0;for(;e<i.children.length;){var o=i.children[e];o===t||o.id===t?(i.children.splice(e,1),!n.removeFromArray(o.toolbars,i)||void 0!==(o=parseInt(Object.entries(i.positionLookup).find(([,e])=>e===t)[0]))&&(void 0===i.postload&&(i.postload=[]),i.postload.push([t.id,o]))):e++}i.update()}var e,r;n.removeFromArray(Keybinds.actions,t)&&(e=t.category,r=Keybinds.structure[e].actions,n.removeFromArray(r,t),0==r.length&&delete Keybinds.structure[e]),Object.keys(t).forEach(e=>delete t[e]),t.id="DISABLED"}},{"./utils":5}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.removeFromArray=void 0,o.removeFromArray=function(e,t){return-1!==(t=t,-1!=(t=(e=e).indexOf(t))&&e.splice(t,1),t)}},{}],6:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=e("../../core/plugin"),i=new r.SwathePlugin("stretch",{icon:"aspect_ratio",title:"Stretch",author:"Unoqwy",description:"Add missing actions to control screen space",variant:"both",onload:()=>{i.storage.get("menubar_hidden")&&s(!1),n("toggle_left_sidebar",["left"],"toggle",{name:"Toggle Left Sidebar",icon:"chevron_left"}),n("toggle_right_sidebar",["right"],"toggle",{name:"Toggle Right Sidebar",icon:"chevron_right"}),n("hide_sidebars",["left","right"],!1,{name:"Hide both sidebars",icon:"unfold_more"}),n("show_sidebars",["left","right"],!0,{name:"Show both sidebars",icon:"unfold_less"}),i.createAction("toggle_menubar",{name:"Toggle Menu Bar",icon:"menu_open",category:"view",click:()=>s()})}},{storage:!0});function n(e,t,o,r){i.createAction(e,Object.assign(Object.assign({},r),{category:"view",click:()=>{t.map(e=>`show_${e}_bar`).forEach(e=>{Prop[e]="toggle"==o?!Prop[e]:o}),resizeWindow()}}))}function s(e){void 0!==e?$("header").toggle(e):$("header").toggle();e=!$("header").is(":visible");$("#page_wrapper").toggleClass("h-100-override",e),i.storage.set("menubar_hidden",e||void 0)}i.register(!0,{stylesheet:".h-100-override{height:100% !important}"})},{"../../core/plugin":2}]},{},[6]);