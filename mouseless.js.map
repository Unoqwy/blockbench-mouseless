{"version":3,"sources":["/home/runner/work/blockbench-mouseless/blockbench-mouseless/src/utils.ts","/home/runner/work/blockbench-mouseless/blockbench-mouseless/src/mouseless.ts","/home/runner/work/blockbench-mouseless/blockbench-mouseless/src/ui.ts","/home/runner/work/blockbench-mouseless/blockbench-mouseless/src/index.ts"],"sourcesContent":["export function removeFromArray<T>(elt: T, array: T[]): boolean {\n    const eltIndex = array.indexOf(elt);\n    if (eltIndex != -1) {\n        array.splice(eltIndex, 1);\n        return true;\n    }\n    return false;\n}\n","import { removeFromArray } from \"./utils\";\n\nexport namespace Mouseless {\n    var styleElement: HTMLStyleElement;\n\n    // keep track of added actions to remove them on unload\n    const actions: Action[] = [];\n\n    export function createAction(id: string, opts: ActionOptions) {\n        registerAction(new Action(id, opts));\n    }\n\n    export function registerAction(action: Action) {\n        actions.push(action);\n    }\n\n    export function hook(cssSource?: string) {\n        if (cssSource !== undefined) {\n            styleElement = document.createElement(\"style\");\n            styleElement.id = \"mouseless-css\";\n            styleElement.innerHTML = cssSource;\n            document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n        }\n    }\n\n    export function unhook() {\n        styleElement.remove();\n        actions.forEach(removeAction);\n    }\n}\n\nfunction removeAction(action: Action) {\n    if (removeFromArray(action, Keybinds.actions)) {\n        const category = (action as any).category;\n        const structCategoryActions = Keybinds.structure[category].actions;\n        removeFromArray(action, structCategoryActions);\n        if (structCategoryActions.length == 0) {\n            delete Keybinds.structure[category];\n        }\n    }\n}\n","import { Mouseless } from \"./mouseless\";\n\nfunction sidebarAction(id: string, sides: string[], changeState: boolean | \"toggle\", opts: Partial<ActionOptions>) {\n    Mouseless.createAction(id, {\n        ...opts,\n        category: \"view\",\n        click: () => {\n            sides\n                .map(side => `show_${side}_bar`)\n                .forEach(side => {\n                    Prop[side] = changeState == \"toggle\" ? !Prop[side] : changeState;\n                });\n            resizeWindow();\n        },\n    } as ActionOptions);\n}\n\nexport function load() {\n    sidebarAction(\"toggle_left_sidebar\", [\"left\"], \"toggle\", {\n        name: \"Toggle Left Sidebar\",\n        icon: \"chevron_left\",\n    });\n    sidebarAction(\"toggle_right_sidebar\", [\"right\"], \"toggle\", {\n        name: \"Toggle Right Sidebar\",\n        icon: \"chevron_right\",\n    });\n    sidebarAction(\"hide_sidebars\", [\"left\", \"right\"], false, {\n        name: \"Hide both sidebars\",\n        icon: \"unfold_more\",\n    });\n    sidebarAction(\"show_sidebars\", [\"left\", \"right\"], true, {\n        name: \"Show both sidebars\",\n        icon: \"unfold_less\",\n    });\n\n    Mouseless.createAction(\"toggle_menubar\", {\n        name: \"Toggle Menu Bar\",\n        icon: \"menu_open\",\n        category: \"view\",\n        click: () => {\n            $(\"header\").toggle();\n            $(\"#page_wrapper\").toggleClass(\"h-100-override\");\n        },\n    });\n}\n","import { author, description } from \"@package-info\";\nimport { cssSource } from \"@bundle\";\n\nimport { Plugin } from \"bb-types\";\nimport { Mouseless } from \"./mouseless\";\n\nimport * as ui from \"./ui\";\n\nPlugin.register(\"mouseless\", {\n    icon: \"keyboard\",\n    title: \"Blockbench Mouseless\",\n    author: author,\n    description: description,\n    variant: \"both\",\n\n    onload: () => {\n        Mouseless.hook(cssSource);\n\n        ui.load();\n    },\n    onunload: () => {\n        Mouseless.unhook();\n    },\n});\n"],"names":[],"mappings":"knBAAgB,eAAe,CAAI,GAAM,CAAE,KAAU,QAC3C,QAAQ,CAAG,KAAK,CAAC,OAAO,CAAC,GAAG,KAC9B,QAAQ,EAAI,EAAE,EACd,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAE,CAAC,SACjB,IAAI,SAER,KAAK,0CCHR,YAAY,OAGV,OAAO,aAEG,YAAY,CAAC,EAAU,CAAE,IAAmB,EACxD,cAAc,KAAK,MAAM,CAAC,EAAE,CAAE,IAAI,eADtB,YAAY,CAAZ,YAAY,UAIZ,cAAc,CAAC,MAAc,EACzC,OAAO,CAAC,IAAI,CAAC,MAAM,cADP,cAAc,CAAd,cAAc,UAId,IAAI,CAAC,SAAkB,KAC/B,SAAS,GAAK,SAAS,EACvB,YAAY,CAAG,QAAQ,CAAC,aAAa,EAAC,KAAO,GAC7C,YAAY,CAAC,EAAE,EAAG,aAAe,EACjC,YAAY,CAAC,SAAS,CAAG,SAAS,CAClC,QAAQ,CAAC,oBAAoB,EAAC,IAAM,GAAE,CAAC,EAAE,WAAW,CAAC,YAAY,eALzD,IAAI,CAAJ,IAAI,UASJ,MAAM,GAClB,YAAY,CAAC,MAAM,GACnB,OAAO,CAAC,OAAO,CAAC,YAAY,cAFhB,MAAM,CAAN,MAAM,IAvBT,SAAS,GAAT,SAAS,eA6BjB,YAAY,CAAC,MAAc,qBACZ,MAAM,CAAE,QAAQ,CAAC,OAAO,SAClC,QAAQ,CAAI,MAAM,CAAS,QAAQ,OACnC,qBAAqB,CAAG,QAAQ,CAAC,SAAS,CAAC,QAAQ,EAAE,OAAO,iBAClD,MAAM,CAAE,qBAAqB,KACzC,qBAAqB,CAAC,MAAM,EAAI,CAAC,QAC1B,QAAQ,CAAC,SAAS,CAAC,QAAQ,aCnCrC,aAAa,CAAC,EAAU,CAAE,KAAe,CAAE,WAA+B,CAAE,IAA4B,YACnG,YAAY,CAAC,EAAE,kBAClB,IAAI,EACP,QAAQ,EAAE,IAAM,EAChB,KAAK,MACD,KAAK,CACA,GAAG,CAAC,IAAI,GAAK,KAAK,EAAE,IAAI,CAAC,IAAI,GAC7B,OAAO,CAAC,IAAI,GACT,IAAI,CAAC,IAAI,EAAI,WAAW,GAAI,MAAQ,GAAI,IAAI,CAAC,IAAI,EAAI,WAAW,IAExE,YAAY,kBAKR,IAAI,GAChB,aAAa,EAAC,mBAAqB,IAAG,IAAM,IAAG,MAAQ,GACnD,IAAI,EAAE,mBAAqB,EAC3B,IAAI,EAAE,YAAc,IAExB,aAAa,EAAC,oBAAsB,IAAG,KAAO,IAAG,MAAQ,GACrD,IAAI,EAAE,oBAAsB,EAC5B,IAAI,EAAE,aAAe,IAEzB,aAAa,EAAC,aAAe,IAAG,IAAM,GAAE,KAAO,GAAG,KAAK,EACnD,IAAI,EAAE,kBAAoB,EAC1B,IAAI,EAAE,WAAa,IAEvB,aAAa,EAAC,aAAe,IAAG,IAAM,GAAE,KAAO,GAAG,IAAI,EAClD,IAAI,EAAE,kBAAoB,EAC1B,IAAI,EAAE,WAAa,cAGb,YAAY,EAAC,cAAgB,GACnC,IAAI,EAAE,eAAiB,EACvB,IAAI,EAAE,SAAW,EACjB,QAAQ,EAAE,IAAM,EAChB,KAAK,MACD,CAAC,EAAC,MAAQ,GAAE,MAAM,GAClB,CAAC,EAAC,aAAe,GAAE,WAAW,EAAC,cAAgB,eCjCpD,QAAQ,EAAC,SAAW,GACvB,IAAI,EAAE,QAAU,EAChB,KAAK,EAAE,oBAAsB,EAC7B,MAAM,UACN,WAAW,uEACX,OAAO,EAAE,IAAM,EAEf,MAAM,gBACQ,IAAI,qDAIlB,QAAQ,gBACM,MAAM"}